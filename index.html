<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="icon" type="image/png" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lucas de Almeida - Blockchain Developer & Web3 Enthusiast</title>
    <meta name="description" content="Brazilian blockchain developer specializing in Web3, smart contracts, and DeFi. Building privacy-focused solutions for the decentralized era." />
    <meta name="author" content="Lucas de Almeida" />

    <meta property="og:title" content="Lucas de Almeida - Blockchain Developer Portfolio" />
    <meta property="og:description" content="Blockchain developer passionate about Web3, smart contracts, and decentralized finance" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="/placeholder.svg" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@lucasalb_dev" />
    <meta name="twitter:image" content="/placeholder.svg" />
    
    <!-- Content Security Policy -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self' https://api.github.com;">
    
    <style>
      /* Hide any Lovable widgets or floating buttons */
      [id*="lovable" i],
      [class*="lovable" i],
      [data-lovable],
      iframe[src*="lovable" i],
      iframe[src*="cdn.lovable" i],
      script[src*="lovable" i],
      script[src*="cdn.lovable" i] {
        display: none !important;
        visibility: hidden !important;
        opacity: 0 !important;
        pointer-events: none !important;
        position: absolute !important;
        left: -9999px !important;
        width: 0 !important;
        height: 0 !important;
        overflow: hidden !important;
      }
    </style>
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    <script>
      // Aggressive removal of Lovable elements
      (function() {
        function removeLovableElements() {
          // Remove by ID (case insensitive)
          document.querySelectorAll('[id*="lovable" i]').forEach(el => {
            try { el.remove(); } catch(e) {}
          });
          // Remove by class (case insensitive)
          document.querySelectorAll('[class*="lovable" i]').forEach(el => {
            try { el.remove(); } catch(e) {}
          });
          // Remove by data attribute
          document.querySelectorAll('[data-lovable]').forEach(el => {
            try { el.remove(); } catch(e) {}
          });
          // Remove iframes
          document.querySelectorAll('iframe[src*="lovable" i]').forEach(el => {
            try { el.remove(); } catch(e) {}
          });
          // Remove scripts
          document.querySelectorAll('script[src*="lovable" i]').forEach(el => {
            try { el.remove(); } catch(e) {}
          });
          // Remove any element with lovable in any attribute
          document.querySelectorAll('*').forEach(el => {
            try {
              for (let attr of el.attributes || []) {
                if (attr.value && attr.value.toLowerCase().includes('lovable')) {
                  el.remove();
                  break;
                }
              }
            } catch(e) {}
          });
        }

        // Run immediately
        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', function() {
            removeLovableElements();
            setInterval(removeLovableElements, 100);
          });
        } else {
          removeLovableElements();
          setInterval(removeLovableElements, 100);
        }

        // Monitor for new elements
        const observer = new MutationObserver(function(mutations) {
          mutations.forEach(function(mutation) {
            mutation.addedNodes.forEach(function(node) {
              if (node.nodeType === 1) {
                const element = node;
                const id = (element.id || '').toLowerCase();
                const className = (element.className || '').toString().toLowerCase();
                const src = (element.src || '').toLowerCase();
                
                if (
                  id.includes('lovable') ||
                  className.includes('lovable') ||
                  src.includes('lovable') ||
                  element.getAttribute('data-lovable')
                ) {
                  try { element.remove(); } catch(e) {}
                }
                
                // Check all attributes
                try {
                  if (element.attributes) {
                    for (let attr of element.attributes) {
                      if (attr.value && attr.value.toLowerCase().includes('lovable')) {
                        element.remove();
                        break;
                      }
                    }
                  }
                } catch(e) {}
              }
            });
          });
          removeLovableElements();
        });

        // Start observing as soon as possible
        if (document.body) {
          observer.observe(document.body, {
            childList: true,
            subtree: true,
            attributes: true,
            attributeFilter: ['id', 'class', 'src', 'data-lovable']
          });
        } else {
          document.addEventListener('DOMContentLoaded', function() {
            if (document.body) {
              observer.observe(document.body, {
                childList: true,
                subtree: true,
                attributes: true,
                attributeFilter: ['id', 'class', 'src', 'data-lovable']
              });
            }
          });
        }

        // Also observe document.documentElement
        observer.observe(document.documentElement, {
          childList: true,
          subtree: true,
          attributes: true,
          attributeFilter: ['id', 'class', 'src', 'data-lovable']
        });

        // Block script and iframe injection
        const originalAppendChild = Node.prototype.appendChild;
        Node.prototype.appendChild = function(child) {
          if (child && child.nodeType === 1) {
            const src = (child.src || '').toLowerCase();
            const id = (child.id || '').toLowerCase();
            const className = (child.className || '').toString().toLowerCase();
            if (
              src.includes('lovable') ||
              id.includes('lovable') ||
              className.includes('lovable')
            ) {
              return child;
            }
          }
          return originalAppendChild.call(this, child);
        };

        // Block insertBefore
        const originalInsertBefore = Node.prototype.insertBefore;
        Node.prototype.insertBefore = function(newNode, referenceNode) {
          if (newNode && newNode.nodeType === 1) {
            const src = (newNode.src || '').toLowerCase();
            const id = (newNode.id || '').toLowerCase();
            const className = (newNode.className || '').toString().toLowerCase();
            if (
              src.includes('lovable') ||
              id.includes('lovable') ||
              className.includes('lovable')
            ) {
              return newNode;
            }
          }
          return originalInsertBefore.call(this, newNode, referenceNode);
        };
      })();
    </script>
  </body>
</html>
